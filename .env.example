# North Cloud Environment Variables
# Copy this file to .env and update with your values

# ============================================
# Docker User Configuration (Development)
# ============================================
# Set these to match your host user to avoid permission issues
# On Linux/Mac, run: id -u && id -g to get your UID and GID
UID=1000
GID=1000

# ============================================
# Application Configuration
# ============================================
APP_DEBUG=true
APP_ENV=development

# ============================================
# Source Manager Service
# ============================================
SOURCE_MANAGER_PORT=8050
SOURCE_MANAGER_HOST=0.0.0.0
# External URL for Source Manager API (used by crawler and frontend)
# Set to the host/IP that other services can reach (e.g., 192.168.136.97 for WSL2)
# Defaults to localhost if not set
SOURCE_MANAGER_API_URL=http://localhost:8050
FRONTEND_PORT=3000

# Source Manager Database
POSTGRES_SOURCE_MANAGER_USER=postgres
POSTGRES_SOURCE_MANAGER_PASSWORD=postgres
POSTGRES_SOURCE_MANAGER_DB=gosources

# ============================================
# Crawler Service
# Source Manager API URL (used to fetch source configurations)
# Constructs from SOURCE_MANAGER_API_URL if CRAWLER_SOURCES_API_URL is not set
CRAWLER_SOURCES_API_URL=
# ============================================
# Crawler Database
POSTGRES_CRAWLER_USER=postgres
POSTGRES_CRAWLER_PASSWORD=postgres
POSTGRES_CRAWLER_DB=gocrawl

# ============================================
# Streetcode (Drupal) Service
# ============================================
STREETCODE_PORT=8080

# Streetcode Database
POSTGRES_STREETCODE_USER=postgres
POSTGRES_STREETCODE_PASSWORD=postgres
POSTGRES_STREETCODE_DB=streetcode

# Drupal API Authentication
DRUPAL_TOKEN=your-drupal-api-token-here

# ============================================
# Publisher Service
# ============================================
# Publisher connects to Elasticsearch, Redis, and Drupal
# See publisher/config.yml for service-specific configuration

# ============================================
# Infrastructure Services
# ============================================

# Elasticsearch
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_SECURITY_ENABLED=false

# Redis
REDIS_PORT=6379
REDIS_PASSWORD=

# Nginx
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ============================================
# Development Options
# ============================================
# Set to true to enable verbose logging
DEBUG_LOGS=false

# ============================================
# Production Configuration
# ============================================
# For production, set strong passwords and enable security:
# - Set APP_DEBUG=false
# - Set APP_ENV=production
# - Set strong database passwords
# - Set ELASTICSEARCH_SECURITY_ENABLED=true
# - Set REDIS_PASSWORD to a strong password
# - Configure SSL certificates for Nginx
# - Set DRUPAL_TOKEN to a secure API token
